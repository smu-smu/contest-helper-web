(this["webpackJsonpcontest-helper-web"]=this["webpackJsonpcontest-helper-web"]||[]).push([[0],{195:function(e,t,n){e.exports=n(384)},204:function(e,t,n){},206:function(e,t,n){},384:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),s=n.n(c),u=n(25),o=(n(204),n(205),n(206),n(385)),i=n(145),l=n(179),d=n(386);function m(){return Object(u.c)((function(e){return e.user}))}var p=n(59),f=n(6),b=n.n(f),v=n(30),g=n(20),h=n(15),E="http://117.16.45.78:48080",j=200,w=400,O=n(41),x=n.n(O),I="/account/signup",y="/account/signin";function k(e){var t,n,a,r,c;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.id,n=e.password,a=e.username,r=E+I,s.prev=2,s.next=5,b.a.awrap(x.a.post(r,{userId:t,password:n,name:a}));case 5:return c=s.sent,s.abrupt("return",c.status===j);case 9:return s.prev=9,s.t0=s.catch(2),s.abrupt("return",!1);case 12:case"end":return s.stop()}}),null,null,[[2,9]])}function R(e){var t,n,a,r,c;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.id,n=e.password,a=E+y,s.prev=2,s.next=5,b.a.awrap(x.a.post(a,{userId:t,password:n}));case 5:return r=s.sent,c=r.data,s.abrupt("return",c.userId?c:null);case 10:return s.prev=10,s.t0=s.catch(2),s.abrupt("return",!1);case 13:case"end":return s.stop()}}),null,null,[[2,10]])}var q,C=n(84),S=n.n(C);function T(e,t){C.firestore().collection("tokens").doc(t).set({token:e})}function U(e){window.localStorage.setItem("fcm_token",e)}var F=b.a.mark(K),P=b.a.mark(M),D=b.a.mark(Y),z="user/signIn",W="user/signOut",A="user/signInCompleted",L="user/signInError",H=Object(g.b)(z),N=Object(g.b)(W),B=Object(g.b)(A),G=Object(g.b)(L),J=Object(g.c)({status:"unauthorized",error:!1},(q={},Object(v.a)(q,N.type,(function(e,t){return{status:"unauthorized",error:!1}})),Object(v.a)(q,B.type,(function(e,t){return{status:"authorized",data:t.payload}})),Object(v.a)(q,G.type,(function(e,t){return{status:"unauthorized",error:!0}})),q));function K(e){var t,n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h.b)(R,e.payload);case 2:if(!(t=a.sent)){a.next=10;break}return(n=window.localStorage.getItem("fcm_token"))&&T(n,t.userId),a.next=8,Object(h.c)(B({username:t.name,id:t.userId}));case 8:a.next=12;break;case 10:return a.next=12,Object(h.c)(G());case 12:case"end":return a.stop()}}),F)}function M(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(z,K);case 2:case"end":return e.stop()}}),P)}function Y(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([M()]);case 2:case"end":return e.stop()}}),D)}function _(){var e=Object(u.b)();return{requestSignIn:Object(a.useCallback)((function(t){e(H(t))}),[e]),requestSignOut:Object(a.useCallback)((function(){e(N())}),[e])}}var V="/",$="/signIn",Q="/signUp",X="/teams",Z="/createTeam",ee=function(e){return"".concat(X,"?contest=").concat(e)},te=function(e){return"".concat(Z,"?contest=").concat(e)},ne=function(e){return"".concat($,"?signUpSuccess=").concat(e)};function ae(){var e,t=m(),n=Object(p.g)(),a=_().requestSignOut;return e="unauthorized"===t.status?[r.a.createElement(i.a,{key:"signIn",type:"primary",onClick:function(){n.push($)}},"\ub85c\uadf8\uc778")]:[r.a.createElement(l.a,{key:"avatar"},"T"),r.a.createElement(i.a,{key:"signOut",type:"primary",onClick:function(){n.push(V),a()}},"\ub85c\uadf8\uc544\uc6c3")],r.a.createElement(d.a,{title:"Contest Helper",extra:e})}var re=n(51),ce=n(74),se=n(45),ue=n(389),oe=n(390),ie=n(13);var le=ue.a.create()((function(e){var t=e.form,n=_().requestSignIn,a=t.getFieldDecorator;return r.a.createElement(ue.a,{onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){if(!e){var a=t.id,r=t.password;n({id:a,password:r})}}))}},r.a.createElement(ue.a.Item,null,a("id",{rules:[{required:!0,message:"\uc544\uc774\ub514\ub294 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}]})(r.a.createElement(oe.a,{prefix:r.a.createElement(ie.a,{type:"user"}),placeholder:"\uc544\uc774\ub514"}))),r.a.createElement(ue.a.Item,null,a("password",{rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638\ub294 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}]})(r.a.createElement(oe.a.Password,{prefix:r.a.createElement(ie.a,{type:"lock"}),placeholder:"\ube44\ubc00\ubc88\ud638"}))),r.a.createElement(ue.a.Item,null,r.a.createElement(i.a,{type:"primary",htmlType:"submit"},"\ub85c\uadf8\uc778")),r.a.createElement(ue.a.Item,null,"\ud639\uc740 ",r.a.createElement("a",{href:Q},"\ud68c\uc6d0\uac00\uc785 \ud558\uae30")))})),de=n(391);function me(e){var t=e.msg;return r.a.createElement(de.a,{showIcon:!0,message:t,type:"error",banner:!0})}function pe(){return new URLSearchParams(Object(p.h)().search)}function fe(e){var t=e.msg;return r.a.createElement(de.a,{showIcon:!0,message:t,type:"success",banner:!0})}function be(){var e=m(),t=pe();if("authorized"===e.status)return r.a.createElement(p.a,{to:V});var n=null;return"unauthorized"===e.status&&e.error?n=r.a.createElement(me,{msg:"\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4"}):t.get("signUpSuccess")&&(n=r.a.createElement(fe,{msg:"\ud68c\uc6d0\uac00\uc785\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4"})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{span:8}),r.a.createElement(se.a,{span:8,style:{marginTop:16}},n&&n,r.a.createElement(le,null)),r.a.createElement(se.a,{span:8}))}var ve,ge="/contest/list";function he(){var e,t,n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=E+ge,a.prev=1,a.next=4,b.a.awrap(x.a.get(e));case 4:return t=a.sent,n=t.data,t.status,a.abrupt("return",n.map((function(e){return{id:e.id,name:e.name,category:e.category,group:e.group,startDate:e.startDate,endDate:e.endDate}})));case 10:return a.prev=10,a.t0=a.catch(1),a.abrupt("return",[]);case 13:case"end":return a.stop()}}),null,null,[[1,10]])}var Ee=b.a.mark(Ce),je=b.a.mark(Se),we=b.a.mark(Te),Oe="contest/fetchRequested",xe="contest/fetchLoading",Ie="content/fetchCompleted",ye=Object(g.b)(Oe),ke=Object(g.b)(xe),Re=Object(g.b)(Ie),qe=Object(g.c)({status:"loading"},(ve={},Object(v.a)(ve,ke.type,(function(e,t){return{status:"loading"}})),Object(v.a)(ve,Re.type,(function(e,t){return{status:"finished",data:t.payload}})),ve));function Ce(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.c)(ke());case 2:return t.next=4,Object(h.b)(he);case 4:return e=t.sent,t.next=7,Object(h.c)(Re(e));case 7:case"end":return t.stop()}}),Ee)}function Se(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(Oe,Ce);case 2:case"end":return e.stop()}}),je)}function Te(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Se()]);case 2:case"end":return e.stop()}}),we)}var Ue=n(190),Fe=n(75);function Pe(e){var t=e.contest,n=Object(p.g)();return r.a.createElement("div",null,r.a.createElement("p",null,"name: ",t.name),r.a.createElement("p",null,"group: ",t.group),r.a.createElement("p",null,"startDate: ",t.startDate),r.a.createElement("p",null,"endDate: ",t.endDate),r.a.createElement("p",null,"Category: ",t.category),r.a.createElement(i.a,{onClick:function(){n.push(ee(t.id))}},"\ud300 \ubaa9\ub85d"))}function De(){var e=Object(u.c)((function(e){return e.contest}));return"loading"===e.status?r.a.createElement(Ue.a,null):0===e.data.length?r.a.createElement(Fe.a,null):r.a.createElement("div",null,e.data.map((function(e){return r.a.createElement(Pe,{key:e.id,contest:e})})))}function ze(){var e=function(){var e=Object(u.b)();return{requestFetch:Object(a.useCallback)((function(){e(ye())}),[e])}}().requestFetch;return Object(a.useEffect)((function(){e()})),r.a.createElement(De,null)}var We,Ae=function(e){return"/team/contestId/".concat(e)},Le="/team",He="/team/request",Ne="/team/permit",Be="/team/reject";function Ge(e){var t,n,a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=E+Ae(e),r.prev=1,r.next=4,b.a.awrap(x.a.get(t));case 4:if(n=r.sent,a=n.data,n.status!==w){r.next=9;break}return r.abrupt("return",{status:"error",data:null});case 9:return r.abrupt("return",{status:"success",data:a.map((function(e){return{id:e.name,name:e.name,users:e.members,contact:e.address,createdUserId:e.createdUser,contestId:e.contestId,pendingUsers:e.participants.map((function(e){return e.accountId}))}}))});case 12:return r.prev=12,r.t0=r.catch(1),r.abrupt("return",{status:"error",data:null});case 15:case"end":return r.stop()}}),null,null,[[1,12]])}function Je(e){var t,n,a,r,c,s,u;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,n=e.contestId,a=e.contact,r=e.userId,c=E+Le,o.prev=2,o.next=5,b.a.awrap(x.a.post(c,{name:t,contestId:n,address:a,createdUser:r}));case 5:return s=o.sent,s.data,u=s.status,o.abrupt("return",u===j);case 11:return o.prev=11,o.t0=o.catch(2),o.abrupt("return",null);case 14:case"end":return o.stop()}}),null,null,[[2,11]])}function Ke(e){var t,n,a,r,c,s;return b.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.userId,n=e.teamId,a=E+He,u.prev=2,u.next=5,b.a.awrap(x.a.post(a,{accountId:t,teamId:n}));case 5:return r=u.sent,c=r.data,s=r.status,u.abrupt("return",s===j&&null!==c);case 11:return u.prev=11,u.t0=u.catch(2),u.abrupt("return",!1);case 14:case"end":return u.stop()}}),null,null,[[2,11]])}function Me(e){var t,n,a,r,c,s;return b.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.userId,n=e.teamId,a=E+Ne,u.prev=2,u.next=5,b.a.awrap(x.a.post(a,{accountId:t,teamId:n}));case 5:return r=u.sent,c=r.data,s=r.status,u.abrupt("return",s===j&&null!==c);case 11:return u.prev=11,u.t0=u.catch(2),u.abrupt("return",!1);case 14:case"end":return u.stop()}}),null,null,[[2,11]])}function Ye(e){var t,n,a,r,c,s;return b.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.userId,n=e.teamId,a=E+Be,u.prev=2,u.next=5,b.a.awrap(x.a.post(a,{accountId:t,teamId:n}));case 5:return r=u.sent,c=r.data,s=r.status,u.abrupt("return",s===j&&null!==c);case 11:return u.prev=11,u.t0=u.catch(2),u.abrupt("return",!1);case 14:case"end":return u.stop()}}),null,null,[[2,11]])}var _e=b.a.mark(pt),Ve=b.a.mark(ft),$e=b.a.mark(bt),Qe=b.a.mark(vt),Xe=b.a.mark(gt),Ze=b.a.mark(ht),et="team/fetchRequested",tt="team/fetchLoading",nt="team/fetchCompleted",at="team/registerRequest",rt="team/permitRegister",ct="team/rejectRegister",st=Object(g.b)(et),ut=Object(g.b)(tt),ot=Object(g.b)(nt),it=Object(g.b)(at),lt=Object(g.b)(rt),dt=Object(g.b)(ct),mt=Object(g.c)({status:"loading"},(We={},Object(v.a)(We,ut.type,(function(e,t){return{status:"loading"}})),Object(v.a)(We,ot.type,(function(e,t){return{status:"finished",data:t.payload}})),We));function pt(e){var t,n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h.c)(ut());case 2:return t=e.payload,a.next=5,Object(h.b)(Ge,t);case 5:if("success"!==(n=a.sent).status||!n.data){a.next=9;break}return a.next=9,Object(h.c)(ot(n.data));case 9:case"end":return a.stop()}}),_e)}function ft(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(h.b)(Ke,t);case 3:return n.sent,n.next=6,Object(h.c)(st(t.contestId));case 6:case"end":return n.stop()}}),Ve)}function bt(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(h.b)(Me,t);case 3:return n.sent,n.next=6,Object(h.c)(st(t.contestId));case 6:case"end":return n.stop()}}),$e)}function vt(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(h.b)(Ye,t);case 3:return n.sent,n.next=6,Object(h.c)(st(t.contestId));case 6:case"end":return n.stop()}}),Qe)}function gt(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(et,pt);case 2:return e.next=4,Object(h.d)(at,ft);case 4:return e.next=6,Object(h.d)(rt,bt);case 6:return e.next=8,Object(h.d)(ct,vt);case 8:case"end":return e.stop()}}),Xe)}function ht(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([gt()]);case 2:case"end":return e.stop()}}),Ze)}function Et(){var e=Object(u.b)();return{fetchRequest:Object(a.useCallback)((function(t){e(st(t))}),[e]),registerTeamRequest:Object(a.useCallback)((function(t){e(it(t))}),[e]),permitRegisterRequest:Object(a.useCallback)((function(t){e(lt(t))}),[e]),rejectRegisterRequest:Object(a.useCallback)((function(t){e(dt(t))}),[e])}}function jt(){return Object(u.c)((function(e){return e.team}))}var wt=n(388);function Ot(e){var t=e.member,n=e.isPending,a=e.isSupervisor,c=e.onPermitRegister,s=e.onRejectRegister;return r.a.createElement("div",null,r.a.createElement("p",null,"Member: ",t),n&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{onClick:function(){return c(t)}},"\uc2b9\uc778"),r.a.createElement(i.a,{onClick:function(){return s(t)}},"\uac70\ubd80")))}function xt(e){var t=e.members,n=e.isPending,a=void 0!==n&&n,c=e.isSupervisor,s=void 0!==c&&c,u=e.onPermitRegister,o=e.onRejectRegister;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(Ot,{key:e,member:e,isPending:a,isSupervisor:s,onPermitRegister:u,onRejectRegister:o})})))}var It,yt=n(387);function kt(e){var t=e.team,n=e.user,a=Et(),c=a.registerTeamRequest,s=a.permitRegisterRequest,u=a.rejectRegisterRequest,o=n&&t.createdUserId===n.id;return r.a.createElement(yt.a,{title:t.name},r.a.createElement("p",null,t.contact),r.a.createElement("p",null,"\uc0dd\uc131\ud55c \uc0ac\ub78c: ",t.createdUserId),r.a.createElement(xt,{members:t.users,onPermitRegister:function(e){},onRejectRegister:function(e){}}),n&&(t.users.indexOf(n.id)||!o)&&r.a.createElement(i.a,{onClick:function(){n&&c({userId:n.id,teamId:t.id,contestId:t.contestId})},disabled:t.pendingUsers.indexOf(n.id)>=0},"\uac00\uc785 \uc2e0\uccad"),r.a.createElement("p",null,"Pending"),o&&r.a.createElement(xt,{members:t.pendingUsers,isSupervisor:!0,isPending:!0,onPermitRegister:function(e){s({userId:e,teamId:t.id,contestId:t.contestId})},onRejectRegister:function(e){u({userId:e,teamId:t.id,contestId:t.contestId})}}))}function Rt(){var e=m(),t=jt();return"loading"===t.status?r.a.createElement(Ue.a,null):0===t.data.length?r.a.createElement(Fe.a,null):r.a.createElement(wt.a,{itemLayout:"horizontal",dataSource:t.data,renderItem:function(t){return r.a.createElement(kt,{team:t,user:"authorized"===e.status?e.data:null})}})}function qt(e){var t=e.contestId,n=m(),a=jt(),c=Object(p.g)(),s="authorized"===n.status&&"finished"===a.status&&null==a.data.find((function(e){return e.createdUserId===n.data.id}));return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(i.a,{onClick:function(){t&&c.push(te(t))}},"\ud300 \uc0dd\uc131"))}function Ct(){var e=Et().fetchRequest,t=pe().get("contest");return Object(a.useEffect)((function(){t&&e(t)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,{contestId:t}),r.a.createElement(Rt,null))}var St=b.a.mark(Ht),Tt=b.a.mark(Nt),Ut=b.a.mark(Bt),Ft="signUp/request",Pt="signUp/success",Dt="signUp/error",zt=Object(g.b)(Ft),Wt=Object(g.b)(Pt),At=Object(g.b)(Dt),Lt=Object(g.c)({status:"none",error:!1},(It={},Object(v.a)(It,Wt.type,(function(e,t){return{status:"success"}})),Object(v.a)(It,At.type,(function(e,t){return{status:"none",error:!0}})),It));function Ht(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(h.b)(k,e.payload);case 2:return t=n.sent,console.log(t),n.next=6,Object(h.c)(t?Wt():At());case 6:case"end":return n.stop()}}),St)}function Nt(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(Ft,Ht);case 2:case"end":return e.stop()}}),Tt)}function Bt(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Nt()]);case 2:case"end":return e.stop()}}),Ut)}var Gt,Jt=ue.a.create()((function(e){var t=e.form,n=function(){var e=Object(u.b)();return{requestSignup:Object(a.useCallback)((function(t){return e(zt(t))}),[e])}}().requestSignup,c=t.getFieldDecorator;return r.a.createElement(ue.a,{onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){if(!e){var a=t.id,r=t.password,c=t.name;n({id:a,password:r,username:c})}}))}},r.a.createElement(ue.a.Item,null,c("name",{rules:[{required:!0,message:"\uc774\ub984\uc740 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}]})(r.a.createElement(oe.a,{placeholder:"\uc774\ub984"}))),r.a.createElement(ue.a.Item,null,c("id",{rules:[{required:!0,message:"\uc544\uc774\ub514\ub294 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}]})(r.a.createElement(oe.a,{placeholder:"\uc544\uc774\ub514"}))),r.a.createElement(ue.a.Item,{hasFeedback:!0},c("password",{rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638\ub294 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"},{validator:function(e,n,a){n&&t.validateFields(["confirm"],{force:!0}),a()}}]})(r.a.createElement(oe.a.Password,{prefix:r.a.createElement(ie.a,{type:"lock"}),placeholder:"\ube44\ubc00\ubc88\ud638"}))),r.a.createElement(ue.a.Item,{hasFeedback:!0},c("password-recheck",{rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638 \ud655\uc778\uc740 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"},{validator:function(e,n,a){n&&n!==t.getFieldValue("password")?a("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"):a()}}]})(r.a.createElement(oe.a.Password,{prefix:r.a.createElement(ie.a,{type:"lock"}),placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}))),r.a.createElement(ue.a.Item,null,r.a.createElement(i.a,{type:"primary",htmlType:"submit"},"\ud68c\uc6d0\uac00\uc785")))}));function Kt(){var e=Object(u.c)((function(e){return e.signUp}));return"success"===e.status?r.a.createElement(p.a,{to:ne(!0)}):r.a.createElement(ce.a,null,r.a.createElement(se.a,{span:8}),r.a.createElement(se.a,{span:8,style:{marginTop:16}},e.error&&r.a.createElement(me,{msg:"\ud68c\uc6d0\uac00\uc785\uc774 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4"}),r.a.createElement(Jt,null)),r.a.createElement(se.a,{span:8}))}var Mt=b.a.mark(nn),Yt=b.a.mark(an),_t=b.a.mark(rn),Vt="createTeam/request",$t="createTeam/success",Qt="createTeam/error",Xt=Object(g.b)(Vt),Zt=Object(g.b)($t),en=Object(g.b)(Qt),tn=Object(g.c)({status:"none",error:!1},(Gt={},Object(v.a)(Gt,Zt.type,(function(e,t){return{status:"success"}})),Object(v.a)(Gt,en.type,(function(e,t){return{status:"none",error:!0}})),Gt));function nn(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(h.b)(Je,e.payload);case 2:return t=n.sent,n.next=5,Object(h.c)(t?Zt():en());case 5:case"end":return n.stop()}}),Mt)}function an(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(Vt,nn);case 2:case"end":return e.stop()}}),Yt)}function rn(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([an()]);case 2:case"end":return e.stop()}}),_t)}var cn={mapPropsToFields:function(e){var t=e.contestId;return{contestId:ue.a.createFormField({value:t})}}},sn=ue.a.create(cn)((function(e){var t=e.form,n=e.contestId,c=e.userId,s=function(){var e=Object(u.b)();return{requestCreateTeam:Object(a.useCallback)((function(t){e(Xt(t))}),[e])}}().requestCreateTeam,o=t.getFieldDecorator;return r.a.createElement(ue.a,{onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){if(!e){var a=t.name,r=t.contact;s({contestId:n,name:a,contact:r,userId:c})}}))}},r.a.createElement(ue.a.Item,null,o("name",{rules:[{required:!0,message:"\ud300 \uc774\ub984\uc740 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}]})(r.a.createElement(oe.a,{placeholder:"\ud300 \uc774\ub984"}))),r.a.createElement(ue.a.Item,null,o("contact",{rules:[{required:!0,message:"\uc5f0\ub77d\ucc98\ub294 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}]})(r.a.createElement(oe.a,{prefix:r.a.createElement(ie.a,{type:"contacts"}),placeholder:"\uc5f0\ub77d\ucc98"}))),r.a.createElement(ue.a.Item,null,r.a.createElement(i.a,{type:"primary",htmlType:"submit"},"\ud300 \uc0dd\uc131")))}));function un(){var e=m(),t=pe(),n=Object(u.c)((function(e){return e.createTeam}));if("unauthorized"===e.status)return alert("\ub85c\uadf8\uc778 \ud6c4\uc5d0\ub9cc \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"),r.a.createElement(p.a,{to:V});var a=t.get("contest");return a?"success"===n.status?r.a.createElement(p.a,{to:ee(a)}):r.a.createElement(ce.a,null,r.a.createElement(se.a,{span:8}),r.a.createElement(se.a,{span:8,style:{marginTop:16}},n.error&&r.a.createElement(me,{msg:"\ud300 \uc0dd\uc131\uc774 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4"}),r.a.createElement(sn,{contestId:a,userId:e.data.id})),r.a.createElement(se.a,{span:8})):(alert("\ub300\uc0c1 \uacf5\ubaa8\uc804\uc774 \uc9c0\uc815\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4"),r.a.createElement(p.a,{to:V}))}var on=o.a.Header,ln=o.a.Content;S.a.initializeApp({apiKey:"AIzaSyCYHsBGxW8cH7Sqi94hqT2OhgYSSzP6J9E",authDomain:"contest-helper-d570a.firebaseapp.com",databaseURL:"https://contest-helper-d570a.firebaseio.com",projectId:"contest-helper-d570a",storageBucket:"contest-helper-d570a.appspot.com",messagingSenderId:"28027376772",appId:"1:28027376772:web:78fb55a0e797092f60ded1",measurementId:"G-KH6NGCW6E5"});var dn,mn=S.a.messaging();dn=function(){mn.getToken().then((function(e){e&&U(e)}))},Notification.requestPermission().then((function(e){"granted"===e&&dn()})),mn.onTokenRefresh((function(){mn.getToken().then((function(e){e&&U(e)}))})),mn.onMessage((function(e){console.log(e),new Notification("Hello Notification")}));var pn=function(){return r.a.createElement(re.a,{basename:"/contest-helper-web"},r.a.createElement(o.a,null,r.a.createElement(on,{style:{backgroundColor:"#f5f5f5"}},r.a.createElement(ae,null)),r.a.createElement(ln,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:V},r.a.createElement(ze,null)),r.a.createElement(p.b,{path:$},r.a.createElement(be,null)),r.a.createElement(p.b,{path:Q},r.a.createElement(Kt,null)),r.a.createElement(p.b,{path:X},r.a.createElement(Ct,null)),r.a.createElement(p.b,{path:Z},r.a.createElement(un,null))))))},fn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var vn=n(191),gn=n(192),hn=n(40),En=Object(hn.combineReducers)({contest:qe,user:J,team:mt,signUp:Lt,createTeam:tn}),jn=b.a.mark(wn);function wn(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Te(),Y(),ht(),Bt(),rn()]);case 2:case"end":return e.stop()}}),jn)}var On=function(){var e=Object(gn.a)(),t=Object(g.a)({reducer:En,middleware:[e].concat(Object(vn.a)(Object(g.d)())),devTools:!0});return e.run(wn),t}();s.a.render(r.a.createElement(u.a,{store:On},r.a.createElement(pn,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/contest-helper-web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/contest-helper-web","/service-worker.js");fn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):bn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):bn(t,e)}))}}()}},[[195,1,2]]]);
//# sourceMappingURL=main.253566c1.chunk.js.map